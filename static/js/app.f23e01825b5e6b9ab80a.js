webpackJsonp([1],{EJb4:function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("7+uW"),a={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var r=t("VU/8")({name:"App"},a,!1,function(e){t("EJb4")},null,null).exports,s=t("/ocq"),o={data:function(){return{gameState:"idle",height:16,width:30,mines:40,grid:[]}},computed:{playing:function(){return"playing"===this.gameState},gridStyle:function(){return{width:16*this.grid[0].length+"px"}}},created:function(){this.playing||this.resetGame()},methods:{resetGame:function(){this.gameState="playing",this.grid=function(e){for(var n=e.width,t=e.height,i=e.mines,a=[],r=[],s=0;s<t;s++){for(var o=[],l=0;l<n;l++)o.push({flagged:!1,question:!1,mine:!1,hit:!1,revealed:!1}),r.push({i:s,j:l});a.push(o)}for(var u=0;u<i;u++){var c=Math.floor(Math.random()*r.length),h=r[c],d=h.i,g=h.j;r.splice(c,1),a[d][g].mine=!0}for(var m=0;m<t;m++)for(var f=0;f<n;f++){var p=[];m-1>=0&&(f-1>=0&&p.push(a[m-1][f-1]),p.push(a[m-1][f]),f+1<n&&p.push(a[m-1][f+1])),m+1<t&&(f-1>=0&&p.push(a[m+1][f-1]),p.push(a[m+1][f]),f+1<n&&p.push(a[m+1][f+1])),f-1>=0&&p.push(a[m][f-1]),f+1<n&&p.push(a[m][f+1]),a[m][f].neighbors=p}return a}({height:this.height,width:this.width,mines:this.mines})},onCellClick:function(e){var n=this;!this.playing||e.flagged||e.question||(e.revealed?e.mine||this.countAdjacentFlags(e)!==this.countAdjacentMines(e)||e.neighbors.forEach(function(e){e.flagged||e.question||n.checkMine(e),n.revealSafe(e)}):(this.checkMine(e),this.revealSafe(e)),this.checkWin())},onCellRightClick:function(e,n){e.preventDefault(),this.playing&&!n.revealed&&(n.flagged?(n.flagged=!1,n.question=!0):n.question?(n.flagged=!1,n.question=!1):(n.flagged=!0,n.question=!1),this.checkWin())},checkMine:function(e){e.mine&&(e.revealed=!0,e.hit=!0,this.gameState="lost",this.iterateCells(function(e){e.mine&&(e.revealed=!0)}))},revealSafe:function(e){var n=this;e.mine||e.revealed||(e.revealed=!0,0===this.countAdjacentMines(e)&&e.neighbors.forEach(function(e){n.revealSafe(e)}))},checkWin:function(){var e=!0,n=!0;this.iterateCells(function(t){t.mine&&!t.flagged&&(e=!1),t.mine||t.revealed||(n=!1)}),(e||n)&&(this.iterateCells(function(e){e.revealed=!0,e.mine&&(e.flagged=!0)}),this.gameState="won")},countAdjacentMines:function(e){return e.neighbors.reduce(function(e,n){return n.mine?e+1:e},0)},countAdjacentFlags:function(e){return e.neighbors.reduce(function(e,n){return n.flagged?e+1:e},0)},cellClass:function(e){return this.playing||!e.flagged||e.mine?e.revealed?e.mine?e.hit?"mine-hit":"won"===this.gameState?"flag":"mine":"mines"+this.countAdjacentMines(e):e.flagged?"flag":e.question?"question":"covered":"mine-misflagged"},iterateCells:function(e){for(var n=0;n<this.grid.length;n++)for(var t=this.grid[n],i=0;i<t.length;i++)e(t[i])}}},l={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.playing?e._e():t("div",{staticClass:"content-inline"},["lost"===e.gameState?t("h2",[e._v("YOU LOSE")]):"won"===e.gameState?t("h2",[e._v("YOU WIN!!!")]):e._e(),e._v(" "),t("button",{on:{click:function(n){e.resetGame()}}},[e._v("Play Again")]),e._v("\n\n    height\n    "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.height,expression:"height",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.height},on:{input:function(n){n.target.composing||(e.height=e._n(n.target.value))},blur:function(n){e.$forceUpdate()}}}),e._v("\n    width\n    "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.width,expression:"width",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.width},on:{input:function(n){n.target.composing||(e.width=e._n(n.target.value))},blur:function(n){e.$forceUpdate()}}}),e._v("\n    mines\n    "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.mines,expression:"mines",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.mines},on:{input:function(n){n.target.composing||(e.mines=e._n(n.target.value))},blur:function(n){e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"ms-grid",style:e.gridStyle},e._l(e.grid,function(n,i){return t("div",{key:i,staticClass:"ms-row"},e._l(n,function(n,i){return t("div",{key:i,staticClass:"ms-cell",class:e.cellClass(n),on:{click:function(t){e.onCellClick(n)},contextmenu:function(t){e.onCellRightClick(t,n)}}},[e._v("\n        Â \n      ")])}))}))])},staticRenderFns:[]};var u=t("VU/8")(o,l,!1,function(e){t("XNgs")},null,null).exports;i.a.use(s.a);var c=new s.a({routes:[{path:"/",name:"Minesweeper",component:u}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:c,components:{App:r},template:"<App/>"})},XNgs:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.f23e01825b5e6b9ab80a.js.map